.env-popover {
   $arrow-size: 10px;

   background-color: css-var('section-background-color');
   border: $border-width $border-style css-var('border-color-light');
   border-radius: css-var('border-radius-medium');
   box-shadow: css-var('box-shadow');
   color: css-var('font-color');
   margin: $arrow-size;
   max-width: css-var('popover-width');
   position: relative;
   text-align: left;
   z-index: $zindex-popover;
   word-wrap: break-word;
   overflow-wrap: anywhere;
   word-break: normal;

   &__header {
      border-radius: css-var('border-radius-medium')
         css-var('border-radius-medium') 0 0;
      display: block;
      padding: css-var('spacing-large') css-var('spacing-x-large')
         css-var('spacing-small');

      &__title {
         margin-bottom: 0 !important;
      }
   }

   &__content {
      display: block;
      padding: css-var('spacing-x-large');

      .env-popover__header + & {
         padding-top: css-var('spacing-small');
      }
   }

   @include popout-menu(#{css-var('spacing-x-large')});

   &__arrow {
      @include arrowBase($arrow-size);
   }

   $arrowLocations: 'top', 'right', 'bottom', 'left';
   $branded-border-width: 4px;

   @each $location in $arrowLocations {
      @include arrow($location, $arrow-size, $branded-border-width);
   }

   &--black {
      $background-color: #000000;
      $color: #eeeeee;
      $color-muted: #a0a0a0;

      @at-root {
         @include to-css-custom-property(
            (
               'font-color': $color,
               'font-color-muted': $color-muted,
               'link-font-color': $color,
               'link-hover-font-color': $color,
               'link-text-decoration': underline,
               'link-hover-text-decoration': underline,
            ),
            '.env-popover--black'
         );
      }

      color: $color;
      background-color: $background-color;

      [class^='env-ui-text-'],
      [class*=' env-ui-text-'] {
         color: $color;
      }

      @each $location in $arrowLocations {
         @include arrow(
            $location,
            $arrow-size,
            $branded-border-width,
            $background-color
         );
      }
   }
}
